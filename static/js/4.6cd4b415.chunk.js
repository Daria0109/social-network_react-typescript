(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{292:function(e,t,a){e.exports={image:"ProfileInfo_image__2da8F",description:"ProfileInfo_description__1Cu2y",avatar:"ProfileInfo_avatar__1oUOk",social:"ProfileInfo_social__uj1yE"}},293:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(96);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},306:function(e,t,a){e.exports={posts:"MyPosts_posts__3QidP"}},307:function(e,t,a){e.exports={item:"Post_item__2DReY"}},309:function(e,t,a){"use strict";a.r(t);var n=a(97),r=a(0),o=a.n(r),l=a(292),i=a.n(l),c=a(59),u=a(14),s=a.n(u),m=a(293),d=function(e){var t=Object(r.useState)(!1),a=Object(m.a)(t,2),n=a[0],l=a[1],i=Object(r.useState)(e.status),c=Object(m.a)(i,2),u=c[0],s=c[1];Object(r.useEffect)((function(){s(e.status)}),[e.status]);return o.a.createElement(o.a.Fragment,null,n?o.a.createElement("div",null,o.a.createElement("input",{value:u,onBlur:function(){l(!1),e.updateStatus(u)},autoFocus:!0,onChange:function(e){s(e.currentTarget.value)}})):o.a.createElement("div",null,o.a.createElement("span",{onDoubleClick:function(){l(!0)}},o.a.createElement("b",null,e.status||"No status..."))))},f=function(e){var t=e.title,a=e.socialLink;return o.a.createElement("div",{className:i.a.social},o.a.createElement("b",null,t,":")," ",a)},b=function(e){var t=e.data,a=e.isOwner,n=e.setEditMode;return o.a.createElement("div",null,a&&o.a.createElement("button",{onClick:function(){return n(!0)}},"Edit Profile"),o.a.createElement("div",null,"Full name: ",t.fullName),o.a.createElement("div",null,"About Me: ",t.aboutMe),o.a.createElement("div",null,"Look for a job: ",t.lookingForAJob?"Yes":"No"),o.a.createElement("div",null,"My skills: ",t.lookingForAJobDescription),o.a.createElement("div",null,"Contacts: "),Object.keys(t.contacts).map((function(e){return o.a.createElement(f,{key:e,title:e,socialLink:t.contacts[e]})})))},v=a(128),E=a(25),p=function(e){var t=e.title;e.socialLink;return o.a.createElement("div",{className:i.a.social},Object(E.c)(E.a,"contacts.".concat(t),t,[]))},O=a(44),j=a.n(O),k=Object(v.a)({form:"edit-profile"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("div",null,"Full name: ",Object(E.c)(E.a,"fullName","Name...",[])),o.a.createElement("div",null,"About Me: ",Object(E.c)(E.b,"aboutMe","About me...",[])),o.a.createElement("div",null,"Look for a job: ",Object(E.c)("input","lookingForAJob",null,[],{type:"checkbox"})),o.a.createElement("div",null,"My skills: ",Object(E.c)(E.b,"lookingForAJobDescription","My skills...",[])),o.a.createElement("div",null,"Contacts: "),Object.keys(e.data.contacts).map((function(t){return o.a.createElement(p,{key:t,title:t,socialLink:e.data.contacts[t]})})),e.error&&o.a.createElement("div",{className:j.a.errorSubmit},e.error),o.a.createElement("button",{onClick:function(){}},"Save"))})),g=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,l=e.savePhoto,u=e.saveProfile,m=e.editMode,f=e.setEditModeProfile;return Object.keys(t).length?o.a.createElement("div",null,o.a.createElement("div",{className:i.a.description},o.a.createElement("img",{className:i.a.avatar,src:t.photos.large?t.photos.large:s.a,alt:"Avatar"}),r&&o.a.createElement("div",null,o.a.createElement("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&l(e.target.files[0])}})),o.a.createElement(d,{status:a,updateStatus:n}),o.a.createElement("hr",null),m?o.a.createElement(k,{data:t,onSubmit:function(e){u(e)},initialValues:t}):o.a.createElement(b,{data:t,isOwner:r,setEditMode:f}))):o.a.createElement(c.a,null)},y=a(306),h=a.n(y),P=a(307),S=a.n(P),_=o.a.memo((function(e){return o.a.createElement("div",{className:S.a.item},o.a.createElement("img",{src:e.avatar,alt:"Avatar"}),e.message,o.a.createElement("div",null,o.a.createElement("span",null,e.likesCount," likes")))})),M=a(95),N=a(43),A=a(12),C=Object(N.a)(10),w=Object(v.a)({form:"post"})((function(e){var t=e.handleSubmit;return o.a.createElement("form",{onSubmit:t},Object(E.c)(E.b,"post","New post...",[N.b,C]),o.a.createElement("div",null,o.a.createElement("button",null,"Add Post")))})),I=o.a.memo((function(){var e=Object(A.c)(),t=Object(A.d)((function(e){return e.profilePage})).posts.map((function(e){return o.a.createElement(_,{key:e.id,id:e.id,avatar:e.avatar,message:e.message,likesCount:e.likesCount})}));return o.a.createElement("div",{className:h.a.posts},o.a.createElement(w,{onSubmit:function(t){e(M.d.addPost(t.post))}}),t)})),F=a(10);t.default=function(e){Object(n.a)(e);var t=Object(F.g)(),a=Object(F.h)("/profile/:userId?"),l=Object(A.d)((function(e){return e.profilePage.profile})),i=Object(A.d)((function(e){return e.profilePage.status})),c=Object(A.d)((function(e){return e.profilePage.editMode})),u=Object(A.d)((function(e){return e.auth.id})),s=Object(A.c)();Object(r.useEffect)((function(){var e=Number(null===a||void 0===a?void 0:a.params.userId);e||(e=u)||t.push("/login"),s(Object(M.c)(e)),s(Object(M.b)(e))}),[null===a||void 0===a?void 0:a.params.userId]);return o.a.createElement("div",null,o.a.createElement(g,{isOwner:!(null===a||void 0===a?void 0:a.params.userId),profile:l,status:i,updateStatus:function(e){s(Object(M.g)(e))},savePhoto:function(e){s(Object(M.e)(e))},saveProfile:function(e){s(Object(M.f)(e))},editMode:c,setEditModeProfile:function(e){s(M.d.setEditModeProfile(e))}}),o.a.createElement(I,null))}}}]);
//# sourceMappingURL=4.6cd4b415.chunk.js.map