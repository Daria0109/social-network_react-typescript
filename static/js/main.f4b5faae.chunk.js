(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{105:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(38),r=n(5),i="samurai-network/dialogs/ADD-MESSAGE",c=function(e){return{type:i,message:e}},u={dialogs:[{id:1,name:"Dimych",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:2,name:"Viktor",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:3,name:"Sveta",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:4,name:"Valera",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:5,name:"Sasha",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:6,name:"Ignat",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:7,name:"Valera",avatar:"https://finance.kz/static/images/default-avatar.png"}],messages:[{id:1,text:"Hi!"},{id:2,text:"How are you!"},{id:3,text:"Hello, my friend!"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[{id:4,text:t.message}])});default:return e}}},129:function(e,t,n){"use strict";n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return w})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return _})),n.d(t,"f",(function(){return y}));var a=n(38),r=n(5),i=n(6),c=n.n(i),u=n(11),s=n(16),o=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(r.a)(Object(r.a)({},e),a):e}))},l="samurai-network/users/FOLLOW",f="samurai-network/users/UNFOLLOW",m="samurai-network/users/SET-USERS",d="samurai-network/users/SET-CURRENT-PAGE",p="samurai-network/users/SET-TOTAL-USERS-COUNT",v="samurai-network/users/TOGGLE-IS-FETCHING",g=function(e){return{type:l,userId:e}},b=function(e){return{type:f,userId:e}},h=function(e){return{type:m,users:e}},E=function(e){return{type:d,pageNumber:e}},O=function(e){return{type:v,isFetching:e}},w=function(e,t){return{type:"samurai-network/users/TOGGLE-FOLLOWING-PROGRESS",isFollowingProgress:e,userId:t}},j=function(e,t){return function(){var n=Object(u.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(O(!0)),n.next=3,s.c.getUsers(e,t);case 3:r=n.sent,a(O(!1)),a(h(r.items)),a((i=r.totalCount,{type:p,totalUsers:i}));case 7:case"end":return n.stop()}var i}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(){var e=Object(u.a)(c.a.mark((function e(t,n,a,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&t(r(n)),t(w(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),_=function(e){return function(){var t=Object(u.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.c.followUsers.bind(s.c),t.next=3,k(n,e,a,g);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(u.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.c.unfollowUsers.bind(s.c),t.next=3,k(n,e,a,b);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S={users:[],pageSize:5,totalUsersCount:0,currentPage:1,portionSize:10,isFetching:!0,followingInProgress:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(r.a)(Object(r.a)({},e),{},{users:o(e.users,t.userId,"id",{followed:!0})});case f:return Object(r.a)(Object(r.a)({},e),{},{users:o(e.users,t.userId,"id",{followed:!1})});case m:return Object(r.a)(Object(r.a)({},e),{},{users:t.users});case d:return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.pageNumber});case p:return Object(r.a)(Object(r.a)({},e),{},{totalUsersCount:t.totalUsers});case v:return Object(r.a)(Object(r.a)({},e),{},{isFetching:t.isFetching});case"samurai-network/users/TOGGLE-FOLLOWING-PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{followingInProgress:t.isFollowingProgress?[].concat(Object(a.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},134:function(e,t,n){e.exports=n.p+"static/media/preloader.f876d4b4.gif"},16:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(6),r=n.n(a),i=n(11),c=n(130),u=n.n(c).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"bcb04db8-51e3-4a52-abad-1b8669db5951"}}),s={getUsers:function(e,t){return Object(i.a)(r.a.mark((function n(){var a,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.get("users?page=".concat(e,"&count=").concat(t));case 2:return a=n.sent,i=a.data,console.log(i),n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})))()},followUsers:function(e){return Object(i.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.post("follow/".concat(e));case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},unfollowUsers:function(e){return Object(i.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.delete("follow/".concat(e));case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()}},o={getAuth:function(){return u.get("auth/me").then((function(e){return e.data}))},login:function(e,t,n){return u.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return u.delete("/auth/login").then((function(e){return e.data}))}},l={getUserProfile:function(e){return u.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return u.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return u.put("profile/status",{status:e}).then((function(e){return e.data}))}}},160:function(e,t,n){e.exports=n(286)},162:function(e,t,n){},17:function(e,t,n){e.exports={nav:"Navbar_nav__mTtkA",item:"Navbar_item__2Y4wl",active:"Navbar_active__3-pQo"}},241:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=(n(162),n(9)),c=n(94),u=n(105),s={friends:[{id:1,name:"Dimych",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:2,name:"Viktor",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:3,name:"Sveta",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:4,name:"Valera",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:5,name:"Sasha",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:6,name:"Ignat",avatar:"https://finance.kz/static/images/default-avatar.png"},{id:7,name:"Valera",avatar:"https://finance.kz/static/images/default-avatar.png"}]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return e},l=n(129),f=n(5),m=n(6),d=n.n(m),p=n(11),v=n(16),g=n(40),b="samurai-network/auth/SET-AUTH-USER-DATA",h=function(e,t,n,a){return{type:b,payload:{id:e,email:t,login:n},isAuth:a}},E=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getAuth();case 2:0===(n=e.sent).resultCode&&(a=n.data,r=a.id,i=a.email,c=a.login,t(h(r,i,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O={id:null,email:null,login:null,isAuth:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(f.a)(Object(f.a)(Object(f.a)({},e),t.payload),{},{isAuth:t.isAuth});default:return e}},j=n(131),k=n(128),_="samurai-network/app/INITIALIZED-SUCCESS",y={initialized:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(f.a)(Object(f.a)({},e),{},{initialized:!0});default:return e}},N=Object(i.c)({profilePage:c.b,dialogsPage:u.b,usersPage:l.a,navbar:o,auth:w,form:k.a,app:S}),x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,C=Object(i.e)(N,x(Object(i.a)(j.a)));window.store=C;var A=C,z=n(58),I=n(59),U=n(63),T=n(62),P=n(10),F=(n(241),n(17)),L=n.n(F),G=n(13),R=n(14),D=n(89),H=n.n(D),M=n(69),V=n.n(M),J=function(e){return r.a.createElement(G.b,{to:"/profile/".concat(e.name)},r.a.createElement("div",{className:V.a.friend},r.a.createElement("img",{className:V.a.avatar,src:e.avatar,alt:e.name}),r.a.createElement("div",{className:V.a.name},e.name)))},W=function(e){var t=e.friends.map((function(e){return r.a.createElement(J,{key:e.id,id:e.id,name:e.name,avatar:e.avatar})}));return r.a.createElement("div",{className:H.a.friends},r.a.createElement("h3",null,"Friends"),r.a.createElement("div",{className:H.a.friends__section},t))},Y=Object(R.b)((function(e){return{friends:e.navbar.friends}}),(function(e){return{}}))(W),q=function(e){return r.a.createElement("nav",{className:L.a.nav},r.a.createElement("div",{className:L.a.item},r.a.createElement(G.b,{to:"/profile",activeClassName:L.a.active},"Profile")),r.a.createElement("div",{className:L.a.item},r.a.createElement(G.b,{to:"/dialogs",activeClassName:L.a.active},"Messages")),r.a.createElement("div",{className:L.a.item},r.a.createElement(G.b,{to:"/users",activeClassName:L.a.active},"Users")),r.a.createElement("div",{className:L.a.item},r.a.createElement(G.b,{to:"/news",activeClassName:L.a.active},"News")),r.a.createElement("div",{className:L.a.item},r.a.createElement(G.b,{to:"/music",activeClassName:L.a.active},"Music")),r.a.createElement("div",{className:L.a.item},r.a.createElement(G.b,{to:"/settings",activeClassName:L.a.active},"Settings")),r.a.createElement(Y,null))},Q=function(){return r.a.createElement("div",null,"News")},X=function(){return r.a.createElement("div",null,"Music")},B=function(){return r.a.createElement("div",null,"Settings")},K=n(39),Z=n.n(K),$=function(e){var t=e.login,n=e.isAuth,a=e.logout;return r.a.createElement("header",{className:Z.a.header},r.a.createElement("div",{className:Z.a.logo_block},r.a.createElement("img",{className:Z.a.logo,src:"https://www.freelogodesign.org/Content/img/logo-samples/flooop.png",alt:"Logo"})),r.a.createElement("div",{className:Z.a.login_block},n?r.a.createElement("div",{className:Z.a.login},t,r.a.createElement("button",{onClick:function(){return a()}},"LogOut")):r.a.createElement(G.b,{to:"/login"},"LogIn")))},ee=function(e){Object(U.a)(n,e);var t=Object(T.a)(n);function n(){return Object(z.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){var e=this.props,t=e.login,n=e.isAuth,a=e.logout;return r.a.createElement($,{login:t,isAuth:n,logout:a})}}]),n}(r.a.Component),te=Object(R.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{getAuthUserDataTC:E,logout:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.logout();case 2:0===e.sent.resultCode&&t(h(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ee),ne=n(127),ae=n(65),re=n(34),ie=n(49),ce=n.n(ie),ue=Object(ae.a)(20),se=Object(ne.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},Object(re.c)(re.a,"email","Email...",[ae.b,ue]),Object(re.c)(re.a,"password","Password...",[ae.b,ue]),Object(re.c)("input","rememberMe",null,[],{type:"checkbox"},"remember me"),e.error&&r.a.createElement("div",{className:ce.a.errorSubmit},e.error),r.a.createElement("button",null,"Submit"))})),oe=Object(R.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(p.a)(d.a.mark((function a(r){var i,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.login(e,t,n);case 2:0===(i=a.sent).resultCode?r(E()):(c=i.messages.length>0?i.messages[0]:"Another error",r(Object(g.a)("login",{_error:c})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login;return e.isAuth?r.a.createElement(P.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(se,{onSubmit:function(e){t(e.email,e.password,e.rememberMe)}}))})),le=n(61),fe=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(le.a,null)},r.a.createElement(e,t))}},me=r.a.lazy((function(){return n.e(5).then(n.bind(null,297))})),de=r.a.lazy((function(){return n.e(4).then(n.bind(null,298))})),pe=r.a.lazy((function(){return n.e(3).then(n.bind(null,296))})),ve=function(e){Object(U.a)(n,e);var t=Object(T.a)(n);function n(){return Object(z.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(te,null),r.a.createElement(q,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(P.b,{render:fe(pe),path:"/profile/:userId?"}),r.a.createElement(P.b,{render:fe(me),path:"/dialogs"}),r.a.createElement(P.b,{render:fe(de),path:"/users"}),r.a.createElement(P.b,{render:function(){return r.a.createElement(Q,null)},path:"/news"}),r.a.createElement(P.b,{render:function(){return r.a.createElement(X,null)},path:"/music"}),r.a.createElement(P.b,{render:function(){return r.a.createElement(B,null)},path:"/settings"}),r.a.createElement(P.b,{render:function(){return r.a.createElement(oe,null)},path:"/login"}))):r.a.createElement(le.a,null)}}]),n}(r.a.Component),ge=Object(R.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(E());case 2:t({type:_});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ve),be=n(64),he=n.n(be),Ee=function(){he.a.render(r.a.createElement(G.a,{basename:"/social-network_react-typescript"},r.a.createElement(R.a,{store:A},r.a.createElement(ge,null))),document.getElementById("root"))};Ee(),A.subscribe((function(){Ee()}))},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m}));var a=n(68),r=n(0),i=n.n(r),c=n(49),u=n.n(c),s=n(87),o=function(e){e.input;var t=e.meta,n=e.children,r=(Object(a.a)(e,["input","meta","children"]),t.touched&&t.error);return i.a.createElement("div",{className:"".concat(u.a.formControl," ").concat(r?u.a.error:"")},i.a.createElement("div",null,n),r&&i.a.createElement("span",null,t.error))},l=function(e){var t=e.input,n=(e.meta,e.children,Object(a.a)(e,["input","meta","children"]));return i.a.createElement(o,e,i.a.createElement("textarea",Object.assign({},t,n)))},f=function(e){var t=e.input,n=(e.meta,e.children,Object(a.a)(e,["input","meta","children"]));return i.a.createElement(o,e,i.a.createElement("input",Object.assign({},t,n)))},m=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return i.a.createElement("div",null,i.a.createElement(s.a,Object.assign({component:e,name:t,placeholder:n,validate:a},r))," ",c)}},39:function(e,t,n){e.exports={header:"Header_header__Qc8HG",login_block:"Header_login_block__4ec_F",login:"Header_login__2-sLY",logo:"Header_logo__1pRGz"}},49:function(e,t,n){e.exports={formControl:"FormControls_formControl__3gxOg",error:"FormControls_error__6tueN",errorSubmit:"FormControls_errorSubmit__RqJa1"}},61:function(e,t,n){"use strict";var a=n(134),r=n.n(a),i=n(0),c=n.n(i);t.a=function(e){return c.a.createElement("div",null,c.a.createElement("img",{src:r.a,alt:"Preloader"}))}},65:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e?void 0:"Field is required"},r=function(e){return function(t){return t&&t.length>e?"Field can't be more than ".concat(e," symbols"):void 0}}},69:function(e,t,n){e.exports={friend:"Friend_friend__3PsN9",avatar:"Friend_avatar__2xJil",name:"Friend_name__6Tgbo"}},89:function(e,t,n){e.exports={friends__section:"Friends_friends__section___elUS"}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return g}));var a=n(38),r=n(5),i=n(6),c=n.n(i),u=n(11),s=n(16),o="samurai-network/profile/ADD-POST",l="samurai-network/profile/SET-USER-PROFILE",f="samurai-network/profile/SET-STATUS",m=function(e){return{type:o,post:e}},d=function(e){return{type:f,status:e}},p=function(e){return function(){var t=Object(u.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.getUserProfile(e);case 2:a=t.sent,n({type:l,profile:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(u.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.getStatus(e);case 2:a=t.sent,n(d(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(u.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.updateStatus(e);case 2:0===t.sent.resultCode&&n(d(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b={posts:[{id:1,message:"Hey, how are you?",likesCount:15,avatar:"https://i.pinimg.com/originals/32/3b/c2/323bc2e28f35a760b8d7afe48f3ffe48.png"},{id:2,message:"This is my first post",likesCount:25,avatar:"https://i.pinimg.com/originals/5a/f1/dd/5af1ddcde07255e8a999abcc061dd201.png"}],profile:{},status:""};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n={id:5,message:t.post,likesCount:0,avatar:"https://finance.kz/static/images/default-avatar.png"};return Object(r.a)(Object(r.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[n])});case l:return Object(r.a)(Object(r.a)({},e),{},{profile:t.profile});case f:return Object(r.a)(Object(r.a)({},e),{},{status:t.status});default:return e}}}},[[160,1,2]]]);
//# sourceMappingURL=main.f4b5faae.chunk.js.map